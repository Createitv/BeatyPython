

# 组合模式

Compose objects into tree structures to represent whole-part hierarchies.Composite lets clients treat individual objects and compositions of objects uniformly.
将对象组合成树形结构以表示“整体-部分”的层次结构关系。组合使得用户对单个对象和复合对象的使用具有一致性。

**基本结构**

组合模式主要有三种角色：

- 抽象组件（Component）：抽象类，主要定义了参与组合的对象的公共接口
- 子对象（Leaf）：组成组合对象的最基本对象
- 组合对象（Composite）：由子对象组合起来的复杂对象

理解组合模式的关键是要理解组合模式对单个对象和组合对象使用的一致性。

### 设计要点

在设计迭代器模式时，要注意以下两点：
（1）理清部分与整体的关系，了解对象的组成结构。
（2）组合模式是一种具有层次关系的树形结构，不能再分的叶子节点是具体的组件，也就是最小的逻辑单元；具有子节点（由多个子组件组成）的组件称为复合组件，也就是组合对象。

### 组合模式的优缺点

#### 优点：

（1）调用简单，组合对象可以像一般对象一样使用。
（2）组合对象可以自由地增加、删除组件，可灵活地组合不同的对象。

#### 缺点：

在一些层次结构太深的场景中，组合结构会变得太庞杂。

